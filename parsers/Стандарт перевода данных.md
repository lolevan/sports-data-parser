# Стандарт перевода данных

## Обзор
Этот документ описывает стандартный формат, используемый для перевода данных о спортивных ставках в согласованную, удобную для использования структуру.

## Объект события

Каждое событие (матч) представлено JSON-объектом со следующей структурой:

```json
{
  "event_id": 1596465186,
  "match_name": "9 de Octubre vs Leones del Norte",
  "start_time": 1725741000.0,
  "home_team": "9 de Octubre",
  "away_team": "Leones del Norte",
  "league_id": 197248,
  "league": "Ecuador - Serie B",
  "country": "Ecuador",
  "sport": "Football",
  "type": "PreMatch",
  "outcomes": [],
  "time": 1725737576.4513586
}
```

### Поля

| Поле | Тип | Описание |
|------|-----|----------|
| `event_id` | Целое число | Уникальный идентификатор события |
| `match_name` | Строка | Полное название матча (Домашняя команда vs Гостевая команда) |
| `start_time` | Число с плавающей точкой | Unix-время начала матча |
| `home_team` | Строка | Название домашней команды |
| `away_team` | Строка | Название гостевой команды |
| `league_id` | Целое число | Уникальный идентификатор лиги |
| `league` | Строка | Название лиги |
| `country` | Строка | Страна, где проводится лига |
| `sport` | Строка | Вид спорта (например, "Football", "Tennis") |
| `type` | Строка | Тип события ("PreMatch" или "Live") |
| `outcomes` | Массив | Список исходов для ставок (см. Объект исхода) |
| `time` | Число с плавающей точкой | Unix-время обработки данных |

## Объект исхода

Каждый исход в массиве `outcomes` представлен объектом со следующей структурой:

```json
{
  "type_name": "1X2",
  "type": "1",
  "line": 0,
  "odds": 1.666
}
```

### Поля

| Поле | Тип | Описание |
|------|-----|----------|
| `type_name` | Строка | Название типа ставки (например, "1X2", "Asian Handicap") |
| `type` | Строка | Конкретный тип исхода (например, "1", "X", "2", "AH1", "AH2") |
| `line` | Число с плавающей точкой | Фора или тотал для ставки (0 для ставок 1X2) |
| `odds` | Число с плавающей точкой | Коэффициент для этого исхода |

## Типы исходов

Ниже приведены все возможные типы исходов, которые могут встречаться в данных:

1. **1X2 (Основной исход)**
   - `type_name`: "1X2"
   - `type`: "1" (победа хозяев), "X" (ничья), "2" (победа гостей)

2. **Азиатский гандикап**
   - `type_name`: "Asian Handicap"
   - `type`: "AH1" (фора на хозяев), "AH2" (фора на гостей)

3. **Тотал голов**
   - `type_name`: "Total Goals"
   - `type`: "O" (больше), "U" (меньше)

4. **Индивидуальный тотал команды**
   - `type_name`: "Team Total Home" или "Team Total Away"
   - `type`: "THO" (тотал хозяев больше), "THU" (тотал хозяев меньше), "TAO" (тотал гостей больше), "TAU" (тотал гостей меньше)

5. **Исходы по периодам (например, первый тайм)**
   - Префикс "1H" добавляется к `type_name` и `type`
   - Пример: "1H1X2", "1HAH1", "1HO" (для тотала первого тайма)

6. **Ставки на геймы в теннисе**
    номер_гейма должен высчитываться исходя из счета прошлых геймов(если видим 2 сет 3 гейм то это значит геймы1 сета + 3 гейма)
   - `type`: "номер_геймаG1" (для первого игрока), "номер_геймаG2" (для второго игрока)
   
  
type_name не обязательно станадртизировать, желательно использовать названия из бк, чтобы потом было проще найти ошибку

## Особые замечания

1. Для ставок на конкретные периоды (например, первый тайм) поля `type_name` и `type` имеют префикс с номером периода (например, "1H" для первого тайма).

2. Для ставок на индивидуальные тоталы команд `type_name` включает название команды, а `type` имеет префикс "HTO" для тотала хозяев больше, "HTU" для тотала хозяев меньше, "ATO" для тотала гостей больше и "ATU" для тотала гостей меньше.

3. Все временные метки представлены в формате Unix (секунды с начала эпохи).

4. Поле `line` используется для ставок с форой и тоталом. Оно представляет фору для ставок на азиатский гандикап и значение тотала для ставок на тотал.

5. Поле `odds` всегда представляет десятичные коэффициенты.

